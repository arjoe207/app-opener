/*! app-opener / @version:1.0.0 @author:leader22 @license:MIT */ 
!function(t){"use strict";var e={TWITTER:{IOS:"twitter://post?message={{TEXT}}",ANDROID:"intent://post?message={{TEXT}}#Intent;scheme=twitter;package=com.twitter.android;end;"},FACEBOOK:{},LINE:{IOS:"line://msg/text/{{TEXT}}",ANDROID:"intent://msg/text/{{TEXT}}#Intent;scheme=line;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package=jp.naver.line.android;end;"}},i={ua:navigator.userAgent.toLowerCase(),isIOS:function(){return-1!==this.ua.indexOf("iphone")||-1!==this.ua.indexOf("ipod")||-1!==this.ua.indexOf("ipad")},isAndroid:function(){return-1!==this.ua.indexOf("android")},isAndroidChrome:function(){return-1!==this.ua.indexOf("mobile")&&-1!==this.ua.indexOf("chrome")&&-1===this.ua.indexOf("version")},isiOSChrome:function(){return-1!==this.ua.indexOf("crios")},getEnvArr:function(){var t=[];return this.isIOS()?(t.push("IOS"),this.isiOSChrome()&&t.push("CHROME")):this.isAndroid()&&(t.push("ANDROID"),this.isAndroidChrome()&&t.push("CHROME")),t},fixScheme:function(t,e){return t.replace("{{TEXT}}",encodeURIComponent(e))}},n=t.NativeSharer=function(t){this.fallbackUrl=t.fallbackUrl||null,this.iOSFastestAppBootTime=t.iOSFastestAppBootTime||20,this.envArr=i.getEnvArr(),this._isExecutable()===!1&&this._exit()};n.prototype={constructor:n,_isExecutable:function(){return null===this.fallbackUrl?!1:0===document.referrer.length||0===history.length?!1:!0},toTwitter:function(t){var n=e.TWITTER[this.envArr[0]];this.toCustom(i.fixScheme(n,t))},toFacebook:function(t){var n=e.FACEBOOK[this.envArr[0]];this.toCustom(i.fixScheme(n,t))},toLINE:function(t){var n=e.LINE[this.envArr[0]];this.toCustom(i.fixScheme(n,t))},toCustom:function(t){switch(this.envArr.join("_")){case"IOS":case"IOS_CHROME":this._iOSHandler(t);break;case"ANDROID":this._androidHandler(t);break;case"ANDROID_CHROME":this._androidChromeHandler(t);break;default:this._exit()}},_androidHandler:function(t){location.replace(t),setTimeout(function(){history.back()},0)},_androidChromeHandler:function(t){location.replace(t)},_iOSHandler:function(t){var e=Date.now(),i=document.createElement("iframe");i.src=t,i.style.display="none",document.body.appendChild(i),Date.now()-e<this.iOSFastestAppBootTime?(alert("アプリがインストールされてないか、\nもしくは何か問題が発生したため、\nアプリを開けませんでした。"),history.back()):history.back()},_exit:function(){location.replace(this.fallbackUrl)}}}(window);
/*! app-opener / @version:1.2.0 @author:leader22 @license:MIT */ 
!function(i,t){"use strict";if("function"==typeof define&&define.amd)define([],function(){return t(i,{})});else{if("process"in i)throw new Error("This module is only for browsers.");i.AppOpener=t(i,{})}}(this.self||global,function(i,t,e){"use strict";var n={ua:navigator.userAgent.toLowerCase(),isIOS:function(){return-1!==this.ua.indexOf("iphone")||-1!==this.ua.indexOf("ipod")||-1!==this.ua.indexOf("ipad")},isAndroid:function(){return-1!==this.ua.indexOf("android")},isAndroidChrome:function(){return-1!==this.ua.indexOf("mobile")&&-1!==this.ua.indexOf("chrome")&&-1===this.ua.indexOf("version")},isiOSChrome:function(){return-1!==this.ua.indexOf("crios")},getEnvArr:function(){var i=[];return this.isIOS()?(i.push("IOS"),this.isiOSChrome()&&i.push("CHROME")):this.isAndroid()&&(i.push("ANDROID"),this.isAndroidChrome()&&i.push("CHROME")),i},iOSNotInstalledFunc:function(){alert("アプリがインストールされてないか、\nもしくは何か問題が発生したため、\nアプリを開けませんでした。")}};return t=function(i){this.schemeStr=i.schemeStr||null,this.fallbackUrl=i.fallbackUrl||null,this.iOSFastestAppBootTime=i.iOSFastestAppBootTime||20,this.iOSNotInstalledFunc=i.iOSNotInstalledFunc||n.iOSNotInstalledFunc,this.envStr=n.getEnvArr().join("_"),this._isExecutable()===!1?this._exit():this._execute()},t.prototype={constructor:t,_isExecutable:function(){return null===this.fallbackUrl||null===this.schemeStr?!1:0===history.length?!1:!0},_execute:function(){var i=this.schemeStr;switch(this.envStr){case"IOS":case"IOS_CHROME":this._iOSHandler(i);break;case"ANDROID":this._androidHandler(i);break;case"ANDROID_CHROME":this._androidChromeHandler(i);break;default:this._exit()}},_androidHandler:function(i){location.replace(i),setTimeout(function(){history.back()},0)},_androidChromeHandler:function(i){location.replace(i)},_iOSHandler:function(i){var t=Date.now(),e=document.createElement("iframe");e.src=i,e.style.display="none",document.body.appendChild(e),Date.now()-t<this.iOSFastestAppBootTime?(this.iOSNotInstalledFunc(),history.back()):history.back()},_exit:function(){location.replace(this.fallbackUrl)}},t});
/*! app-opener / @version:1.1.0 @author:leader22 @license:MIT */ 
!function(i,e){"use strict";if("function"==typeof define&&define.amd)define([],function(){return e(i,{})});else{if("process"in i)throw new Error("This module is only for browsers.");i.AppOpener=e(i,{})}}(this.self||global,function(i,e,t){"use strict";var n={ua:navigator.userAgent.toLowerCase(),isIOS:function(){return-1!==this.ua.indexOf("iphone")||-1!==this.ua.indexOf("ipod")||-1!==this.ua.indexOf("ipad")},isAndroid:function(){return-1!==this.ua.indexOf("android")},isAndroidChrome:function(){return-1!==this.ua.indexOf("mobile")&&-1!==this.ua.indexOf("chrome")&&-1===this.ua.indexOf("version")},isiOSChrome:function(){return-1!==this.ua.indexOf("crios")},getEnvArr:function(){var i=[];return this.isIOS()?(i.push("IOS"),this.isiOSChrome()&&i.push("CHROME")):this.isAndroid()&&(i.push("ANDROID"),this.isAndroidChrome()&&i.push("CHROME")),i}};return e=function(i){this.schemeStr=i.schemeStr||null,this.fallbackUrl=i.fallbackUrl||null,this.iOSFastestAppBootTime=i.iOSFastestAppBootTime||20,this.envStr=n.getEnvArr().join("_"),this._isExecutable()===!1?this._exit():this._execute()},e.prototype={constructor:e,_isExecutable:function(){return null===this.fallbackUrl||null===this.schemeStr?!1:0===history.length?!1:!0},_execute:function(){var i=this.schemeStr;switch(this.envStr){case"IOS":case"IOS_CHROME":this._iOSHandler(i);break;case"ANDROID":this._androidHandler(i);break;case"ANDROID_CHROME":this._androidChromeHandler(i);break;default:this._exit()}},_androidHandler:function(i){location.replace(i),setTimeout(function(){history.back()},0)},_androidChromeHandler:function(i){location.replace(i)},_iOSHandler:function(i){var e=Date.now(),t=document.createElement("iframe");t.src=i,t.style.display="none",document.body.appendChild(t),Date.now()-e<this.iOSFastestAppBootTime?(alert("アプリがインストールされてないか、\nもしくは何か問題が発生したため、\nアプリを開けませんでした。"),history.back()):history.back()},_exit:function(){location.replace(this.fallbackUrl)}},e});
/*! app-opener / @version:1.0.0 @author:leader22 @license:MIT */ 
!function(e,i){"use strict";if("function"==typeof define&&define.amd)define([],function(){return i(e,{})});else{if("process"in e)throw new Error("This module is only for browsers.");e.AppOpener=i(e,{})}}(this.self||global,function(e,i,t){"use strict";var n={ua:navigator.userAgent.toLowerCase(),isIOS:function(){return-1!==this.ua.indexOf("iphone")||-1!==this.ua.indexOf("ipod")||-1!==this.ua.indexOf("ipad")},isAndroid:function(){return-1!==this.ua.indexOf("android")},isAndroidChrome:function(){return-1!==this.ua.indexOf("mobile")&&-1!==this.ua.indexOf("chrome")&&-1===this.ua.indexOf("version")},isiOSChrome:function(){return-1!==this.ua.indexOf("crios")},getEnvArr:function(){var e=[];return this.isIOS()?(e.push("IOS"),this.isiOSChrome()&&e.push("CHROME")):this.isAndroid()&&(e.push("ANDROID"),this.isAndroidChrome()&&e.push("CHROME")),e}},i=function(e){this.schemeStr=e.schemeStr||null,this.fallbackUrl=e.fallbackUrl||null,this.iOSFastestAppBootTime=e.iOSFastestAppBootTime||20,this.envStr=n.getEnvArr().join("_"),this._isExecutable()===!1?this._exit():this._execute()};return i.prototype={constructor:i,_isExecutable:function(){return null===this.fallbackUrl||null===this.schemeStr?!1:0===document.referrer.length||0===history.length?!1:!0},_execute:function(){var e=this.schemeStr;switch(this.envStr){case"IOS":case"IOS_CHROME":this._iOSHandler(e);break;case"ANDROID":this._androidHandler(e);break;case"ANDROID_CHROME":this._androidChromeHandler(e);break;default:this._exit()}},_androidHandler:function(e){location.replace(e),setTimeout(function(){history.back()},0)},_androidChromeHandler:function(e){location.replace(e)},_iOSHandler:function(e){var i=Date.now(),t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t),Date.now()-i<this.iOSFastestAppBootTime?(alert("アプリがインストールされてないか、\nもしくは何か問題が発生したため、\nアプリを開けませんでした。"),history.back()):history.back()},_exit:function(){location.replace(this.fallbackUrl)}},i});